<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Careme</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;margin:2rem;background:#f7f7f9;position:relative}
    .card{background:#fff;padding:1.5rem;border-radius:8px;max-width:720px;margin:0 auto;box-shadow:0 2px 8px rgba(0,0,0,0.06)}
    h1{margin-top:0}
    form{margin-top:1rem}
    input[type=text],input[type=email]{padding:0.5rem;width:200px;margin-right:0.5rem}
    button{padding:0.5rem 0.75rem}
  </style>
  {{.ClarityScript}}
</head>
<body>
  {{template "login-widget" .}}
  <div class="card">
    <h1>Careme</h1>
    <div>
      <pre style="white-space:pre-wrap">Careme is your personal chef and sommilier. It will

1. Take yoru favorite grocery store based on location
2. Check the stores inventory for fresh meat and seasonal produce
3. Generate a weekly meal plan from a variety of cuisines and cooking styles.
</pre>
    </div>

    {{if .User}}
    <div style="margin-bottom:1rem">
      <p style="margin:0">Signed in as <strong>{{.User.Email}}</strong></p>
      <small>User ID: <code>{{.User.ID}}</code></small>
      <div style="margin-top:0.5rem">
        <a href="/user" style="color:#2563eb;text-decoration:none;margin-right:1rem">View Profile</a>
        <form method="POST" action="/logout" style="display:inline">
          <button type="submit">Sign out</button>
        </form>
      </div>
    </div>

    <form method="GET" action="/locations">
      <label for="zip">Enter ZIP code to pick a nearby store:</label><br>
      <input type="text" id="zip" name="zip" placeholder="e.g. 90210" required pattern="\d{5}">
      <button type="submit">Find Stores</button>
    </form>
    {{else}}
    <p>Please log in to continue.</p>
    {{end}}
  </div>
</body>
</html>
